{"ast":null,"code":"var _jsxFileName = \"/media/renato/linux_data/src/report_writer/front/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { getFormDefaultData, getFormLayout, sendFormData } from './services/api';\nimport CompositeWidget from './widgets/composite_widget';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [widgetMatrix, setWidgetMatrix] = useState([[]]);\n  const [data, setData] = useState({});\n  const [errors, setErrors] = useState({});\n\n  const updateFormValue = (field, value) => {\n    setData(data => ({ ...data,\n      [field]: value\n    }));\n  };\n\n  const submitForm = async () => {\n    const errors = await sendFormData(\"teste\", data);\n    setErrors(errors);\n  };\n\n  useEffect(() => {\n    getFormLayout(\"teste\").then(data => {\n      setWidgetMatrix(data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n    getFormDefaultData(\"teste\").then(data => {\n      setData(data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: e => e.preventDefault(),\n            children: [/*#__PURE__*/_jsxDEV(CompositeWidget, {\n              widgetMatrix: widgetMatrix,\n              errors: errors,\n              data: data,\n              updateFormValue: updateFormValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mt-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  onClick: submitForm,\n                  children: \"Gerar docx\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: JSON.stringify(data)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: JSON.stringify(errors)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"8rto93xFbC2VwrTy+vT1vsV6blg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","getFormDefaultData","getFormLayout","sendFormData","CompositeWidget","App","widgetMatrix","setWidgetMatrix","data","setData","errors","setErrors","updateFormValue","field","value","submitForm","then","catch","error","console","log","response","e","preventDefault","JSON","stringify"],"sources":["/media/renato/linux_data/src/report_writer/front/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { getFormDefaultData, getFormLayout, sendFormData } from './services/api';\nimport { DataType, ErrorsType, WidgetMatrixType } from './types/custom_types';\nimport CompositeWidget from './widgets/composite_widget';\n\n\nfunction App() {\n  const [widgetMatrix, setWidgetMatrix] = useState<WidgetMatrixType>([[]]);\n\n  const [data, setData] = useState<DataType>({});\n\n  const [errors, setErrors] = useState<ErrorsType>({});\n\n  const updateFormValue = (field: string, value: any) => {\n    setData(data => ({ ...data, [field]: value }));\n  }\n\n  const submitForm = async () => {\n    const errors = await sendFormData(\"teste\", data);\n    setErrors(errors);\n  }\n\n  useEffect(() => {\n    getFormLayout(\"teste\").then((data) => {\n      setWidgetMatrix(data);\n    }).catch(error => {\n      console.log(error.response.data);\n    });\n    getFormDefaultData(\"teste\").then((data) => {\n      setData(data);\n    })\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <form onSubmit={e => e.preventDefault()}>\n              <CompositeWidget\n                widgetMatrix={widgetMatrix}\n                errors={errors}\n                data={data}\n                updateFormValue={updateFormValue} />\n              <div className=\"row mt-3\">\n                <div className=\"col text-center\">\n                  <button className=\"btn btn-primary\" onClick={submitForm}>Gerar docx</button>\n                </div>\n              </div>\n\n              <p className='text-center'>{JSON.stringify(data)}</p>\n              <p className='text-center'>{JSON.stringify(errors)}</p>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,kBAAT,EAA6BC,aAA7B,EAA4CC,YAA5C,QAAgE,gBAAhE;AAEA,OAAOC,eAAP,MAA4B,4BAA5B;;;AAGA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAmB,CAAC,EAAD,CAAnB,CAAhD;EAEA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAW,EAAX,CAAhC;EAEA,MAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAa,EAAb,CAApC;;EAEA,MAAMY,eAAe,GAAG,CAACC,KAAD,EAAgBC,KAAhB,KAA+B;IACrDL,OAAO,CAACD,IAAI,KAAK,EAAE,GAAGA,IAAL;MAAW,CAACK,KAAD,GAASC;IAApB,CAAL,CAAL,CAAP;EACD,CAFD;;EAIA,MAAMC,UAAU,GAAG,YAAY;IAC7B,MAAML,MAAM,GAAG,MAAMP,YAAY,CAAC,OAAD,EAAUK,IAAV,CAAjC;IACAG,SAAS,CAACD,MAAD,CAAT;EACD,CAHD;;EAKAX,SAAS,CAAC,MAAM;IACdG,aAAa,CAAC,OAAD,CAAb,CAAuBc,IAAvB,CAA6BR,IAAD,IAAU;MACpCD,eAAe,CAACC,IAAD,CAAf;IACD,CAFD,EAEGS,KAFH,CAESC,KAAK,IAAI;MAChBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAN,CAAeb,IAA3B;IACD,CAJD;IAKAP,kBAAkB,CAAC,OAAD,CAAlB,CAA4Be,IAA5B,CAAkCR,IAAD,IAAU;MACzCC,OAAO,CAACD,IAAD,CAAP;IACD,CAFD;EAGD,CATQ,EASN,EATM,CAAT;EAWA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,uBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,uBACE;UAAK,SAAS,EAAC,KAAf;UAAA,uBACE;YAAM,QAAQ,EAAEc,CAAC,IAAIA,CAAC,CAACC,cAAF,EAArB;YAAA,wBACE,QAAC,eAAD;cACE,YAAY,EAAEjB,YADhB;cAEE,MAAM,EAAEI,MAFV;cAGE,IAAI,EAAEF,IAHR;cAIE,eAAe,EAAEI;YAJnB;cAAA;cAAA;cAAA;YAAA,QADF,eAME;cAAK,SAAS,EAAC,UAAf;cAAA,uBACE;gBAAK,SAAS,EAAC,iBAAf;gBAAA,uBACE;kBAAQ,SAAS,EAAC,iBAAlB;kBAAoC,OAAO,EAAEG,UAA7C;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA,QANF,eAYE;cAAG,SAAS,EAAC,aAAb;cAAA,UAA4BS,IAAI,CAACC,SAAL,CAAejB,IAAf;YAA5B;cAAA;cAAA;cAAA;YAAA,QAZF,eAaE;cAAG,SAAS,EAAC,aAAb;cAAA,UAA4BgB,IAAI,CAACC,SAAL,CAAef,MAAf;YAA5B;cAAA;cAAA;cAAA;YAAA,QAbF;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD;;GApDQL,G;;KAAAA,G;AAsDT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}