{"ast":null,"code":"var _jsxFileName = \"/media/renato/linux_data/src/report_writer/front/src/widgets/composite_widget.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport SwitchWidget from './switch_widget';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CompositeWidget(props) {\n  _s();\n\n  const [data, setData] = useState({});\n  const errors = props.errors || {};\n\n  const updateFormValue = (field, value) => {\n    if (props.field_name) {\n      setData(data => ({ ...data,\n        [field]: value\n      }));\n      props.updateFormValue(props.field_name, data);\n    } else {\n      props.updateFormValue(field, value);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: props.widgetMatrix.map((row, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: row.map(w => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: w.col > 0 ? 'col-' + w.col : 'col',\n            children: /*#__PURE__*/_jsxDEV(SwitchWidget, {\n              widget_props: w.widget_props,\n              data: props.field_name ? data[w.field_name] : props.data[w.field_name],\n              field_name: w.field_name,\n              widget_type: w.widget_type,\n              updateFormValue: updateFormValue,\n              errors: errors[w.field_name],\n              label: w.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 17\n            }, this)\n          }, w.field_name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this);\n        })\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CompositeWidget, \"0PQhZyvNHTQmyp/cNfIsZk8MtX8=\");\n\n_c = CompositeWidget;\nexport default CompositeWidget;\n\nvar _c;\n\n$RefreshReg$(_c, \"CompositeWidget\");","map":{"version":3,"names":["React","useState","SwitchWidget","CompositeWidget","props","data","setData","errors","updateFormValue","field","value","field_name","widgetMatrix","map","row","index","w","col","widget_props","widget_type","label"],"sources":["/media/renato/linux_data/src/report_writer/front/src/widgets/composite_widget.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { DataType, ErrorsType, WidgetMatrixType } from '../types/custom_types';\nimport SwitchWidget from './switch_widget';\n\ntype Props = {\n  widgetMatrix: WidgetMatrixType,\n  errors: ErrorsType,\n  data: DataType,\n  field_name?: string,\n  updateFormValue: (field: string, value: any) => void\n}\n\nfunction CompositeWidget(props: Props) {\n\n  const [data, setData] = useState<DataType>({});\n\n  const errors = props.errors || {}\n\n  const updateFormValue = (field: string, value: any) => {\n    if(props.field_name){\n      setData(data => ({ ...data, [field]: value }));\n      props.updateFormValue(props.field_name, data);\n    }else {\n      props.updateFormValue(field, value);\n    }\n  }\n\n  return (\n    <div>\n    {props.widgetMatrix.map((row, index) => {\n      return (\n        <div key={index} className=\"row\">\n          {row.map(w => {\n            return (\n              <div key={w.field_name} className={w.col > 0 ? 'col-' + w.col : 'col'}>\n                <SwitchWidget\n                  widget_props={w.widget_props}\n                  data={props.field_name ? data[w.field_name] : props.data[w.field_name]}\n                  field_name={w.field_name}\n                  widget_type={w.widget_type}\n                  updateFormValue={updateFormValue} \n                  errors={errors[w.field_name]}\n                  label={w.label}/>\n              </div>\n            );\n          })}\n        </div>\n      );\n    })}\n    </div>\n  );\n}\n\nexport default CompositeWidget;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,YAAP,MAAyB,iBAAzB;;;AAUA,SAASC,eAAT,CAAyBC,KAAzB,EAAuC;EAAA;;EAErC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAW,EAAX,CAAhC;EAEA,MAAMM,MAAM,GAAGH,KAAK,CAACG,MAAN,IAAgB,EAA/B;;EAEA,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAgBC,KAAhB,KAA+B;IACrD,IAAGN,KAAK,CAACO,UAAT,EAAoB;MAClBL,OAAO,CAACD,IAAI,KAAK,EAAE,GAAGA,IAAL;QAAW,CAACI,KAAD,GAASC;MAApB,CAAL,CAAL,CAAP;MACAN,KAAK,CAACI,eAAN,CAAsBJ,KAAK,CAACO,UAA5B,EAAwCN,IAAxC;IACD,CAHD,MAGM;MACJD,KAAK,CAACI,eAAN,CAAsBC,KAAtB,EAA6BC,KAA7B;IACD;EACF,CAPD;;EASA,oBACE;IAAA,UACCN,KAAK,CAACQ,YAAN,CAAmBC,GAAnB,CAAuB,CAACC,GAAD,EAAMC,KAAN,KAAgB;MACtC,oBACE;QAAiB,SAAS,EAAC,KAA3B;QAAA,UACGD,GAAG,CAACD,GAAJ,CAAQG,CAAC,IAAI;UACZ,oBACE;YAAwB,SAAS,EAAEA,CAAC,CAACC,GAAF,GAAQ,CAAR,GAAY,SAASD,CAAC,CAACC,GAAvB,GAA6B,KAAhE;YAAA,uBACE,QAAC,YAAD;cACE,YAAY,EAAED,CAAC,CAACE,YADlB;cAEE,IAAI,EAAEd,KAAK,CAACO,UAAN,GAAmBN,IAAI,CAACW,CAAC,CAACL,UAAH,CAAvB,GAAwCP,KAAK,CAACC,IAAN,CAAWW,CAAC,CAACL,UAAb,CAFhD;cAGE,UAAU,EAAEK,CAAC,CAACL,UAHhB;cAIE,WAAW,EAAEK,CAAC,CAACG,WAJjB;cAKE,eAAe,EAAEX,eALnB;cAME,MAAM,EAAED,MAAM,CAACS,CAAC,CAACL,UAAH,CANhB;cAOE,KAAK,EAAEK,CAAC,CAACI;YAPX;cAAA;cAAA;cAAA;YAAA;UADF,GAAUJ,CAAC,CAACL,UAAZ;YAAA;YAAA;YAAA;UAAA,QADF;QAYD,CAbA;MADH,GAAUI,KAAV;QAAA;QAAA;QAAA;MAAA,QADF;IAkBD,CAnBA;EADD;IAAA;IAAA;IAAA;EAAA,QADF;AAwBD;;GAvCQZ,e;;KAAAA,e;AAyCT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}